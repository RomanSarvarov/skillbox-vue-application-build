(function(t){function e(e){for(var a,n,i=e[0],u=e[1],s=e[2],d=0,b=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(c,n)&&c[n]&&b.push(c[n][0]),c[n]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);l&&l(e);while(b.length)b.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],a=!0,i=1;i<r.length;i++){var u=r[i];0!==c[u]&&(a=!1)}a&&(o.splice(e--,1),t=n(n.s=r[0]))}return t}var a={},c={app:0},o=[];function n(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=a,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/skillbox-vue-application-build/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var s=0;s<i.length;s++)e(i[s]);var l=u;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("7a23"),c=r("14b7"),o={price:function(t){return(new Intl.NumberFormat).format(+t||0)}};function n(t,e,r,c,o,n){var i=Object(a["w"])("BaseHeader"),u=Object(a["w"])("RouterView"),s=Object(a["w"])("BaseFooter");return Object(a["q"])(),Object(a["d"])("div",null,[Object(a["h"])(i),Object(a["h"])("div",{class:{"page-loading":t.isPageLoading}},[Object(a["h"])(u)],2),Object(a["h"])(s)])}var i=r("5530"),u=(r("4160"),r("159b"),r("5502")),s={computed:Object(i["a"])({},Object(u["c"])(["isPageLoading","isPageLoadFailed"])),methods:Object(i["a"])(Object(i["a"])({},Object(u["d"])(["pageLoadStart","pageLoadStop","pageLoadFailed"])),{},{renderValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"загрузка...",r=this;return t.forEach((function(t){"undefined"!==typeof r&&(r=r[t])})),r||e}})},l={class:"header"},d={class:"header__wrapper container"},b=Object(a["h"])("span",{class:"header__info"},"Каталог",-1),p=Object(a["h"])("img",{src:"/img/svg/logo-tech.svg",alt:"Логотип интернет магазина Технозавррр",width:"190",height:"33"},null,-1),m=Object(a["h"])("a",{class:"header__tel",href:"tel:8 800 600 90 09"}," 8 800 600 90 09 ",-1);function h(t,e,r,c,o,n){var i=Object(a["w"])("RouterLink"),u=Object(a["w"])("CartIndicator");return Object(a["q"])(),Object(a["d"])("header",l,[Object(a["h"])("div",d,[b,Object(a["h"])(i,{class:"header__logo",to:{name:"main"}},{default:Object(a["G"])((function(){return[p]})),_:1}),m,Object(a["h"])(u)])])}var O=Object(a["h"])("svg",{width:"30",height:"21",fill:"currentColor"},[Object(a["h"])("use",{"xlink:href":"#icon-cart"})],-1),j={class:"header__count","aria-label":"Количество товаров"};function f(t,e,r,c,o,n){var i=Object(a["w"])("RouterLink");return Object(a["q"])(),Object(a["d"])(i,{class:["header__cart",{"cart-count-loading":t.isCartLoading}],to:{name:"cart"},"aria-label":"Корзина с товарами"},{default:Object(a["G"])((function(){return[O,Object(a["h"])("span",j,Object(a["y"])(t.$store.state.cart.products.length),1)]})),_:1},8,["class"])}var _={computed:Object(i["a"])({},Object(u["c"])(["isCartLoading"]))};r("e22c");_.render=f;var g=_,v={components:{CartIndicator:g}};v.render=h;var y=v,k={class:"footer"},P=Object(a["h"])("div",{class:"footer__wrapper container"},[Object(a["h"])("ul",{class:"footer__links"},[Object(a["h"])("li",null,[Object(a["h"])("a",{class:"footer__link",href:"#"}," Каталог ")]),Object(a["h"])("li",null,[Object(a["h"])("a",{class:"footer__link",href:"tel:88006009009"}," 8 800 600 90 09 ")]),Object(a["h"])("li",null,[Object(a["h"])("a",{class:"footer__link",href:"mailto:hi@technozavrrr.com"}," hi@technozavrrr.com ")]),Object(a["h"])("li",null,[Object(a["h"])("a",{class:"footer__link",href:"#"}," Распродажа ")]),Object(a["h"])("li",null,[Object(a["h"])("a",{class:"footer__link footer__link--medium",href:"#"}," Заказать звонок ")])]),Object(a["h"])("ul",{class:"footer__social social"},[Object(a["h"])("li",{class:"social__item"},[Object(a["h"])("a",{class:"social__link",href:"#","aria-label":"Вконтакте"},[Object(a["h"])("svg",{width:"20",height:"11",fill:"currentColor"},[Object(a["h"])("use",{"xlink:href":"#icon-vk"})])])]),Object(a["h"])("li",{class:"social__item"},[Object(a["h"])("a",{class:"social__link",href:"#","aria-label":"Инстаграм"},[Object(a["h"])("svg",{width:"17",height:"17",fill:"currentColor"},[Object(a["h"])("use",{"xlink:href":"#icon-insta"})])])]),Object(a["h"])("li",{class:"social__item"},[Object(a["h"])("a",{class:"social__link",href:"#","aria-label":"Facebook"},[Object(a["h"])("svg",{width:"17",height:"17",fill:"currentColor"},[Object(a["h"])("use",{"xlink:href":"#icon-facebook"})])])]),Object(a["h"])("li",{class:"social__item"},[Object(a["h"])("a",{class:"social__link",href:"#","aria-label":"Twitter"},[Object(a["h"])("svg",{width:"17",height:"14",fill:"currentColor"},[Object(a["h"])("use",{"xlink:href":"#icon-twitter"})])])]),Object(a["h"])("li",{class:"social__item"},[Object(a["h"])("a",{class:"social__link",href:"#","aria-label":"Telegram"},[Object(a["h"])("svg",{width:"19",height:"17",fill:"currentColor"},[Object(a["h"])("use",{"xlink:href":"#icon-telegram"})])])])]),Object(a["h"])("p",{class:"footer__desc"}," Все права на материалы, находящиеся на сайте, охраняются в соответствии с законодательством РФ, в том числе об авторском праве и смежных правах. "),Object(a["h"])("ul",{class:"footer__data"},[Object(a["h"])("li",null,[Object(a["h"])("a",{class:"footer__link",href:"#",target:"_blank",rel:"noopener",type:"application/pdf"}," Политика конфиденциальности ")]),Object(a["h"])("li",null,[Object(a["h"])("a",{class:"footer__link",href:"#",target:"_blank",rel:"noopener",type:"application/pdf"}," Публичная оферта ")])]),Object(a["h"])("span",{class:"footer__copyright"}," © 2020 Технозавррр ")],-1);function C(t,e,r,c,o,n){return Object(a["q"])(),Object(a["d"])("footer",k,[P])}var w={};w.render=C;var L=w,I={components:{BaseFooter:L,BaseHeader:y},mixins:[s],methods:Object(i["a"])(Object(i["a"])({},Object(u["b"])(["loadCart"])),Object(u["d"])(["updateAuthToken"])),created:function(){var t=localStorage.getItem("authToken");t&&this.updateAuthToken(t),this.loadCart()}};r("a4f7");I.render=n;var D=I,F="Первая строка",x="Вторая строка",T=function(t){return console.log(t)},q=T,V=r("6c02"),A={class:"content container"},S={class:"content__top content__top--catalog"},R=Object(a["h"])("h1",{class:"content__title"}," Каталог ",-1),U={class:"content__info"},E={class:"content__catalog"},G={class:"catalog"},B={key:0},$=Object(a["g"])(" Ошибка загрузки ");function H(t,e,r,c,o,n){var i=Object(a["w"])("ProductFilter"),u=Object(a["w"])("ProductList"),s=Object(a["w"])("BasePagination");return Object(a["q"])(),Object(a["d"])("main",A,[Object(a["h"])("div",S,[R,Object(a["h"])("span",U,Object(a["y"])(n.productCount)+" товар(-ов) ",1)]),Object(a["h"])("div",E,[Object(a["h"])(i,{"price-from":o.filterData.priceFrom,"onUpdate:price-from":e[1]||(e[1]=function(t){return o.filterData.priceFrom=t}),"price-to":o.filterData.priceTo,"onUpdate:price-to":e[2]||(e[2]=function(t){return o.filterData.priceTo=t}),"category-id":o.filterData.categoryId,"onUpdate:category-id":e[3]||(e[3]=function(t){return o.filterData.categoryId=t}),color:o.filterData.color,"onUpdate:color":e[4]||(e[4]=function(t){return o.filterData.color=t})},null,8,["price-from","price-to","category-id","color"]),Object(a["h"])("section",G,[t.isPageLoadFailed?(Object(a["q"])(),Object(a["d"])("p",B,[$,Object(a["h"])("button",{onClick:e[5]||(e[5]=Object(a["I"])((function(){return n.loadProducts&&n.loadProducts.apply(n,arguments)}),["prevent"]))},"Попробовать ещё раз")])):(Object(a["q"])(),Object(a["d"])(u,{key:1,products:n.products},null,8,["products"])),Object(a["h"])(s,{page:o.page,"onUpdate:page":e[6]||(e[6]=function(t){return o.page=t}),count:n.countProducts,"per-page":o.perPage},null,8,["page","count","per-page"])])])])}r("d81d"),r("96cf");var N=r("1da1"),z=r("bc3a"),M=r.n(z),K={API_URL:"https://vue-study.dev.creonit.ru"},W={class:"filter"},J=Object(a["h"])("h2",{class:"filter__title"},"Фильтры",-1),Q={class:"form__block"},X=Object(a["h"])("legend",{class:"form__legend"},"Цена",-1),Z={class:"form__label form__label--price"},Y=Object(a["h"])("span",{class:"form__value"},"От",-1),tt={class:"form__label form__label--price"},et=Object(a["h"])("span",{class:"form__value"},"До",-1),rt={class:"form__block"},at=Object(a["h"])("legend",{class:"form__legend"},"Категория",-1),ct={class:"form__label form__label--select"},ot=Object(a["h"])("option",{value:"0"},"Все категории",-1),nt={class:"form__block"},it=Object(a["h"])("legend",{class:"form__legend"},"Цвет",-1),ut=Object(a["h"])("button",{class:"filter__submit button button--primery",type:"submit"}," Применить ",-1);function st(t,e,r,c,o,n){var i=Object(a["w"])("ProductColors");return Object(a["q"])(),Object(a["d"])("aside",W,[J,Object(a["h"])("form",{class:"filter__form form",action:"#",method:"get",onSubmit:e[6]||(e[6]=Object(a["I"])((function(t){return n.apply()}),["prevent"]))},[Object(a["h"])("fieldset",Q,[X,Object(a["h"])("label",Z,[Object(a["H"])(Object(a["h"])("input",{class:"form__input",type:"text",name:"min-price","onUpdate:modelValue":e[1]||(e[1]=function(t){return o.currentPriceFrom=t})},null,512),[[a["D"],o.currentPriceFrom,void 0,{number:!0}]]),Y]),Object(a["h"])("label",tt,[Object(a["H"])(Object(a["h"])("input",{class:"form__input",type:"text",name:"max-price","onUpdate:modelValue":e[2]||(e[2]=function(t){return o.currentPriceTo=t})},null,512),[[a["D"],o.currentPriceTo,void 0,{number:!0}]]),et])]),Object(a["h"])("fieldset",rt,[at,Object(a["h"])("label",ct,[Object(a["H"])(Object(a["h"])("select",{class:"form__select",name:"category","onUpdate:modelValue":e[3]||(e[3]=function(t){return o.currentCategoryId=t})},[ot,(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["u"])(n.categories,(function(t){return Object(a["q"])(),Object(a["d"])("option",{value:t.id,key:t.id},Object(a["y"])(t.title),9,["value"])})),128))],512),[[a["C"],o.currentCategoryId,void 0,{number:!0}]])])]),Object(a["h"])("fieldset",nt,[it,Object(a["h"])(i,{colors:n.colors,"current-color":o.currentColor,"onUpdate:current-color":e[4]||(e[4]=function(t){return o.currentColor=t})},null,8,["colors","current-color"])]),ut,Object(a["h"])("button",{class:"filter__reset button button--second",type:"button",onClick:e[5]||(e[5]=function(){return n.reset&&n.reset.apply(n,arguments)})}," Сбросить ")],32)])}var lt={class:"colors"},dt={class:"colors__label"};function bt(t,e,r,c,o,n){return Object(a["q"])(),Object(a["d"])("ul",lt,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["u"])(r.colors,(function(t){return Object(a["q"])(),Object(a["d"])("li",{class:"colors__item",key:t.id},[Object(a["h"])("label",dt,[Object(a["H"])(Object(a["h"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return n.selected=t}),class:"colors__radio sr-only",type:"radio",value:t.id},null,8,["value"]),[[a["B"],n.selected]]),Object(a["h"])("span",{class:"colors__value",style:"background-color: "+t.code+";"},null,4)])])})),128))])}var pt={props:["currentColor","colors"],computed:{selected:{set:function(t){this.$emit("update:currentColor",t)},get:function(){return this.currentColor}}}};pt.render=bt;var mt=pt,ht={components:{ProductColors:mt},props:["priceFrom","priceTo","categoryId","color"],data:function(){return{currentPriceFrom:0,currentPriceTo:0,currentCategoryId:0,currentColor:null,categoriesData:null,colorsData:null}},computed:{categories:function(){return this.categoriesData?this.categoriesData.items:[]},colors:function(){return this.colorsData?this.colorsData.items:[]}},watch:{priceFrom:function(t){this.currentPriceFrom=t},priceTo:function(t){this.currentPriceTo=t},categoryId:function(t){this.currentCategoryId=t},color:function(t){this.currentColor=t}},methods:{apply:function(){this.$emit("update:priceFrom",this.currentPriceFrom),this.$emit("update:priceTo",this.currentPriceTo),this.$emit("update:categoryId",this.currentCategoryId),this.$emit("update:color",this.currentColor)},reset:function(){this.currentPriceFrom=0,this.currentPriceTo=0,this.currentCategoryId=0,this.currentColor=null,this.apply()},loadCategories:function(){var t=this;return Object(N["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("".concat(K.API_URL,"/api/productCategories"));case 2:r=e.sent,t.categoriesData=r.data;case 4:case"end":return e.stop()}}),e)})))()},loadColors:function(){var t=this;return Object(N["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("".concat(K.API_URL,"/api/colors"));case 2:r=e.sent,t.colorsData=r.data;case 4:case"end":return e.stop()}}),e)})))()}},created:function(){this.loadCategories(),this.loadColors()}};ht.render=st;var Ot=ht,jt={class:"catalog__pagination pagination"},ft={class:"pagination__item"},_t=Object(a["h"])("svg",{width:"8",height:"14",fill:"currentColor"},[Object(a["h"])("use",{"xlink:href":"#icon-arrow-left"})],-1),gt={class:"pagination__item"},vt=Object(a["h"])("svg",{width:"8",height:"14",fill:"currentColor"},[Object(a["h"])("use",{"xlink:href":"#icon-arrow-right"})],-1);function yt(t,e,r,c,o,n){return Object(a["q"])(),Object(a["d"])("ul",jt,[Object(a["h"])("li",ft,[Object(a["h"])("a",{href:"#",class:["pagination__link pagination__link--arrow",{"pagination__link--disabled":n.isFirstPage()}],onClick:e[1]||(e[1]=Object(a["I"])((function(t){return n.paginate(n.prevPage)}),["prevent"])),"aria-label":"Предыдущая страница"},[_t],2)]),(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["u"])(n.pages,(function(t){return Object(a["q"])(),Object(a["d"])("li",{class:"pagination__item",key:t},[Object(a["h"])("a",{href:"#",class:["pagination__link",{"pagination__link--current":n.isCurrentPage(t)}],onClick:Object(a["I"])((function(e){return n.paginate(t)}),["prevent"])},Object(a["y"])(t),11,["onClick"])])})),128)),Object(a["h"])("li",gt,[Object(a["h"])("a",{href:"#",class:["pagination__link pagination__link--arrow",{"pagination__link--disabled":n.isLastPage()}],onClick:e[2]||(e[2]=Object(a["I"])((function(t){return n.paginate(n.nextPage)}),["prevent"])),"aria-label":"Следующая страница"},[vt],2)])])}var kt={props:["page","count","perPage"],computed:{pages:function(){return Math.ceil(this.count/this.perPage)},nextPage:function(){return this.page+1},prevPage:function(){return this.page-1}},methods:{paginate:function(t){t>=1&&t<=this.pages&&this.$emit("update:page",t)},isCurrentPage:function(t){return t===this.page},isFirstPage:function(){return this.isCurrentPage(1)},isLastPage:function(){return this.isCurrentPage(this.pages)}}};kt.render=yt;var Pt=kt,Ct={class:"catalog__list"};function wt(t,e,r,c,o,n){var i=Object(a["w"])("ProductItem");return Object(a["q"])(),Object(a["d"])("ul",Ct,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["u"])(r.products,(function(t){return Object(a["q"])(),Object(a["d"])(i,{product:t,key:t.id},null,8,["product"])})),128))])}r("b0c0");var Lt={class:"catalog__item"},It={class:"catalog__title"},Dt={href:"#"},Ft={class:"catalog__price"};function xt(t,e,r,c,o,n){var i=Object(a["w"])("RouterLink"),u=Object(a["w"])("ProductColors");return Object(a["q"])(),Object(a["d"])("li",Lt,[Object(a["h"])(i,{to:{name:"product",params:{id:r.product.id}},class:"catalog__pic"},{default:Object(a["G"])((function(){return[Object(a["h"])("img",{src:r.product.image,alt:r.product.name},null,8,["src","alt"])]})),_:1},8,["to"]),Object(a["h"])("h3",It,[Object(a["h"])("a",Dt,Object(a["y"])(r.product.name),1)]),Object(a["h"])("span",Ft,Object(a["y"])(t.numberFormat.price(r.product.price))+" ₽",1),Object(a["h"])(u,{"current-color":o.color,"onUpdate:current-color":e[1]||(e[1]=function(t){return o.color=t}),colors:r.product.colors,class:"colors--black"},null,8,["current-color","colors"])])}var Tt={components:{ProductColors:mt},props:["product"],data:function(){return{color:"#7386ea"}}};Tt.render=xt;var qt=Tt,Vt={components:{ProductItem:qt},props:["products"]};Vt.render=wt;var At=Vt,St={components:{ProductFilter:Ot,BasePagination:Pt,ProductList:At},mixins:[s],data:function(){return{productsData:null,page:1,perPage:3,filterData:{priceFrom:0,priceTo:0,categoryId:0,colorId:0,color:null},pageLoadingFailed:!1}},computed:{products:function(){if(this.productsData){var t=this.productsData.items.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{image:t.image.file.url})}));return t}return[]},countProducts:function(){return this.productsData?this.productsData.pagination.total:0},filtration:function(){return{categoryId:this.filterData.categoryId>0?this.filterData.categoryId:null,colorId:this.filterData.color,minPrice:this.filterData.priceFrom,maxPrice:this.filterData.priceTo>=this.filterData.priceFrom?this.filterData.priceTo:null}},pagination:function(){return{page:this.page,limit:this.perPage}},productCount:function(){return this.productsData?this.productsData.pagination.total:0}},watch:{pagination:{handler:function(){this.loadProducts()},immediate:!0},filtration:function(){this.loadProducts()}},methods:{loadProducts:function(){var t=this;return Object(N["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.pageLoadStart(),t.pageLoadFailed(!1),e.prev=2,e.next=5,M.a.get("".concat(K.API_URL,"/api/products"),{params:Object(i["a"])(Object(i["a"])({},t.filtration),t.pagination)});case 5:r=e.sent,t.productsData=r.data,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0),t.pageLoadFailed(!0);case 13:return e.prev=13,t.pageLoadStop(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})))()}}};St.render=H;var Rt=St;function Ut(t,e,r,c,o,n){return Object(a["q"])(),Object(a["d"])("h1",null,"Страница не найдена.")}var Et={};Et.render=Ut;var Gt=Et,Bt={key:0,class:"content container"},$t={key:1,class:"content container"},Ht={class:"content__top"},Nt={class:"breadcrumbs"},zt={class:"breadcrumbs__item"},Mt=Object(a["g"])(" Каталог "),Kt={class:"breadcrumbs__item"},Wt={class:"breadcrumbs__item"},Jt={class:"breadcrumbs__link"},Qt={class:"item"},Xt={class:"item__pics pics"},Zt={class:"pics__wrapper"},Yt={class:"item__info"},te={class:"item__code"},ee={class:"item__title"},re={class:"item__form"},ae={class:"item__price"},ce={key:0,class:"form__block"},oe=Object(a["h"])("legend",{class:"form__legend"},"Цвет:",-1),ne={class:"item__row"},ie=Object(a["f"])('<div class="item__desc"><ul class="tabs"><li class="tabs__item"><a class="tabs__link tabs__link--current"> Описание </a></li><li class="tabs__item"><a class="tabs__link" href="#"> Характеристики </a></li><li class="tabs__item"><a class="tabs__link" href="#"> Гарантия </a></li><li class="tabs__item"><a class="tabs__link" href="#"> Оплата и доставка </a></li></ul><div class="item__content"><p> Навигация GPS, ГЛОНАСС, BEIDOU Galileo и QZSS<br> Синхронизация со смартфоном<br> Связь по Bluetooth Smart, ANT+ и Wi-Fi<br> Поддержка сторонних приложений<br></p><a href="#"> Все характеристики </a><h3>Что это?</h3><p> Wahoo ELEMNT BOLT GPS – это велокомпьютер, который позволяет оптимизировать свои велотренировки, сделав их максимально эффективными. Wahoo ELEMNT BOLT GPS синхронизируется с датчиками по ANT+, объединяя полученную с них информацию. Данные отображаются на дисплее, а также сохраняются на смартфоне. При этом на мобильное устройство можно установить как фирменное приложение, так и различные приложения сторонних разработчиков. Велокомпьютер точно отслеживает местоположение, принимая сигнал с целого комплекса спутников. Эта информация позволяет смотреть уже преодоленные маршруты и планировать новые велопрогулки. </p><h3>Дизайн</h3><p> Велокомпьютер Wahoo ELEMNT BOLT очень компактный. Размеры устройства составляют всего 74,6 x 47,3 x 22,1 мм. что не превышает габариты смартфона. Корпус гаджета выполнен из черного пластика. На обращенной к пользователю стороне расположен дисплей диагональю 56 мм. На дисплей выводятся координаты и скорость, а также полученная со смартфона и синхронизированных датчиков информация: интенсивность, скорость вращения педалей, пульс и т.д. (датчики не входят в комплект поставки). Корпус велокомпьютера имеет степень защиты от влаги IPX7. Это означает, что устройство не боится пыли, а также выдерживает кратковременное (до 30 минут) погружение в воду на глубину не более 1 метра. </p></div></div>',1);function ue(t,e,r,c,o,n){var i=Object(a["w"])("RouterLink"),u=Object(a["w"])("ProductColors"),s=Object(a["w"])("ProductAmount");return t.isPageLoadFailed?(Object(a["q"])(),Object(a["d"])("main",Bt,"Не удалось загрузить товар")):(Object(a["q"])(),Object(a["d"])("main",$t,[Object(a["h"])("div",Ht,[Object(a["h"])("ul",Nt,[Object(a["h"])("li",zt,[Object(a["h"])(i,{class:"breadcrumbs__link",to:{name:"main"}},{default:Object(a["G"])((function(){return[Mt]})),_:1})]),Object(a["h"])("li",Kt,[Object(a["h"])(i,{class:"breadcrumbs__link",to:{name:"main"}},{default:Object(a["G"])((function(){return[Object(a["g"])(Object(a["y"])(t.renderValue(["category","title"])),1)]})),_:1})]),Object(a["h"])("li",Wt,[Object(a["h"])("a",Jt,Object(a["y"])(t.renderValue(["product","title"])),1)])])]),Object(a["h"])("section",Qt,[Object(a["h"])("div",Xt,[Object(a["h"])("div",Zt,[n.product.image?(Object(a["q"])(),Object(a["d"])("img",{key:0,width:"570",height:"570",src:n.product.image.file.url,alt:n.product.title},null,8,["src","alt"])):Object(a["e"])("",!0)])]),Object(a["h"])("div",Yt,[Object(a["h"])("span",te,"Артикул: "+Object(a["y"])(t.renderValue(["product","id"])),1),Object(a["h"])("h2",ee,Object(a["y"])(t.renderValue(["product","title"])),1),Object(a["h"])("div",re,[Object(a["h"])("form",{class:"form",method:"POST",onSubmit:e[3]||(e[3]=Object(a["I"])((function(){return n.addToCart&&n.addToCart.apply(n,arguments)}),["prevent"]))},[Object(a["h"])("b",ae,Object(a["y"])(t.numberFormat.price(t.renderValue(["product","price"],0)))+" ₽ ",1),n.product.colors?(Object(a["q"])(),Object(a["d"])("fieldset",ce,[oe,Object(a["h"])(u,{colors:n.product.colors,"current-color":o.color,"onUpdate:current-color":e[1]||(e[1]=function(t){return o.color=t})},null,8,["colors","current-color"])])):Object(a["e"])("",!0),Object(a["h"])("div",ne,[Object(a["h"])(s,{modelValue:o.amount,"onUpdate:modelValue":e[2]||(e[2]=function(t){return o.amount=t}),"svg-size":12},null,8,["modelValue"]),Object(a["h"])("button",{class:"button button--primery",type:"submit",disabled:o.productAddingToCart}," В корзину ",8,["disabled"])]),Object(a["H"])(Object(a["h"])("div",null,"Товар добавлен в корзину",512),[[a["E"],o.productAddedToCart]]),Object(a["H"])(Object(a["h"])("div",null,"Товар добавляется в корзину",512),[[a["E"],o.productAddingToCart]])],32)])]),ie])]))}r("99af");var se={class:"form__counter"},le=Object(a["h"])("use",{"xlink:href":"#icon-minus"},null,-1),de=Object(a["h"])("use",{"xlink:href":"#icon-plus"},null,-1);function be(t,e,r,c,o,n){return Object(a["q"])(),Object(a["d"])("div",se,[Object(a["h"])("button",{type:"button","aria-label":"Убрать один товар",onClick:e[1]||(e[1]=Object(a["I"])((function(){return n.decreaseAmount&&n.decreaseAmount.apply(n,arguments)}),["prevent"]))},[(Object(a["q"])(),Object(a["d"])("svg",{width:r.svgSize,height:r.svgSize,fill:"currentColor"},[le],8,["width","height"]))]),Object(a["H"])(Object(a["h"])("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=function(t){return n.amount=t}),name:"count"},null,512),[[a["D"],n.amount,void 0,{number:!0}]]),Object(a["h"])("button",{type:"button","aria-label":"Добавить один товар",onClick:e[3]||(e[3]=Object(a["I"])((function(){return n.increaseAmount&&n.increaseAmount.apply(n,arguments)}),["prevent"]))},[(Object(a["q"])(),Object(a["d"])("svg",{width:r.svgSize,height:r.svgSize,fill:"currentColor"},[de],8,["width","height"]))])])}r("a9e3");var pe={props:{modelValue:{type:Number},svgSize:{type:Number,default:10}},computed:{amount:{get:function(){return this.modelValue},set:function(t){t<1||this.$emit("update:modelValue",t)}}},methods:{increaseAmount:function(){this.amount+=1},decreaseAmount:function(){this.amount-=1}}};pe.render=be;var me=pe,he={components:{ProductAmount:me,ProductColors:mt},mixins:[s],data:function(){return{color:null,amount:1,productData:null,productAddedToCart:!1,productAddingToCart:!1}},computed:{product:function(){return Object(i["a"])({id:0,price:0,title:"загрузка..."},this.productData)},category:function(){return Object(i["a"])({id:0,title:"загрузка..."},this.productData?this.productData.category:null)}},watch:{"$route.params.id":{handler:function(){+this.$route.params.id>0&&this.loadProduct()},immediate:!0}},methods:Object(i["a"])(Object(i["a"])({},Object(u["b"])(["addProductToCart"])),{},{addToCart:function(){var t=this;return Object(N["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.productAddedToCart=!1,t.productAddingToCart=!0,e.next=4,t.addProductToCart({productId:t.product.id,amount:t.amount});case 4:t.productAddedToCart=!0,t.productAddingToCart=!1;case 6:case"end":return e.stop()}}),e)})))()},loadProduct:function(){var t=this;return Object(N["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.pageLoadStart(),t.pageLoadFailed(!1),e.prev=2,e.next=5,M.a.get("".concat(K.API_URL,"/api/products/").concat(+t.$route.params.id));case 5:r=e.sent,t.productData=r.data,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0),t.pageLoadFailed(!0);case 13:return e.prev=13,t.pageLoadStop(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})))()}})};he.render=ue;var Oe=he,je={class:"content container"},fe={class:"content__top"},_e={class:"breadcrumbs"},ge={class:"breadcrumbs__item"},ve=Object(a["g"])(" Каталог "),ye={class:"breadcrumbs__item"},ke=Object(a["g"])(" Корзина "),Pe=Object(a["h"])("h1",{class:"content__title"}," Корзина ",-1),Ce={class:"content__info"},we={class:"cart"},Le={key:0},Ie={key:1},De={key:2,class:"cart__field"},Fe={class:"cart__list"},xe={class:"cart__block"},Te=Object(a["h"])("p",{class:"cart__desc"}," Мы посчитаем стоимость доставки на следующем этапе ",-1),qe={class:"cart__price"},Ve=Object(a["g"])(" Итого: "),Ae={key:0,class:"cart__button button button--primery",type:"submit"};function Se(t,e,r,c,o,n){var i=Object(a["w"])("RouterLink"),u=Object(a["w"])("CartItem");return Object(a["q"])(),Object(a["d"])("main",je,[Object(a["h"])("div",fe,[Object(a["h"])("ul",_e,[Object(a["h"])("li",ge,[Object(a["h"])(i,{class:"breadcrumbs__link",to:{name:"main"}},{default:Object(a["G"])((function(){return[ve]})),_:1})]),Object(a["h"])("li",ye,[Object(a["h"])(i,{class:"breadcrumbs__link",to:{name:"cart"}},{default:Object(a["G"])((function(){return[ke]})),_:1})])]),Pe,Object(a["h"])("span",Ce,Object(a["y"])(t.cartCount)+" товар(-ов) ",1)]),Object(a["h"])("section",we,[Object(a["h"])("form",{class:"cart__form form",method:"POST",onSubmit:e[1]||(e[1]=Object(a["I"])((function(){return n.makeOrder&&n.makeOrder.apply(n,arguments)}),["prevent"]))},[t.isCartLoading?(Object(a["q"])(),Object(a["d"])("div",Le,"Идет загрузка корзины...")):t.isCartLoadFailed?(Object(a["q"])(),Object(a["d"])("div",Ie,"Не получилось загрузить корзину")):(Object(a["q"])(),Object(a["d"])("div",De,[Object(a["h"])("ul",Fe,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["u"])(t.cartProducts,(function(t){return Object(a["q"])(),Object(a["d"])(u,{"cart-product":t,key:t.productId},null,8,["cart-product"])})),128))])])),Object(a["h"])("div",xe,[Te,Object(a["h"])("p",qe,[Ve,Object(a["h"])("span",null,Object(a["y"])(t.numberFormat.price(t.totalPrice))+" ₽",1)]),t.cartCount>0?(Object(a["q"])(),Object(a["d"])("button",Ae," Оформить заказ ")):Object(a["e"])("",!0)])],32)])])}var Re={class:"cart__item product"},Ue={class:"product__pic"},Ee={class:"product__title"},Ge={class:"product__code"},Be={class:"product__price"},$e=Object(a["h"])("svg",{width:"20",height:"20",fill:"currentColor"},[Object(a["h"])("use",{"xlink:href":"#icon-close"})],-1);function He(t,e,r,c,o,n){var i=Object(a["w"])("ProductAmount");return Object(a["q"])(),Object(a["d"])("li",Re,[Object(a["h"])("div",Ue,[r.cartProduct.product.image?(Object(a["q"])(),Object(a["d"])("img",{key:0,src:r.cartProduct.product.image.file.url,width:"120",height:"120",alt:r.cartProduct.product.name},null,8,["src","alt"])):Object(a["e"])("",!0)]),Object(a["h"])("h3",Ee,Object(a["y"])(r.cartProduct.product.title),1),Object(a["h"])("span",Ge," Артикул: "+Object(a["y"])(r.cartProduct.productId),1),Object(a["h"])(i,{modelValue:n.amount,"onUpdate:modelValue":e[1]||(e[1]=function(t){return n.amount=t}),class:"product__counter"},null,8,["modelValue"]),Object(a["h"])("b",Be,Object(a["y"])(t.numberFormat.price(r.cartProduct.product.price*r.cartProduct.amount))+" ₽ ",1),Object(a["h"])("button",{class:"product__del button-del",type:"button","aria-label":"Удалить товар из корзины",onClick:e[2]||(e[2]=function(e){return t.cartItemDelete(r.cartProduct.productId)})},[$e])])}var Ne={components:{ProductAmount:me},props:["cartProduct"],computed:{amount:{get:function(){return this.cartProduct.amount},set:function(t){this.cartItemUpdateAmount({productId:this.cartProduct.productId,amount:t})}}},methods:Object(i["a"])({},Object(u["b"])(["cartItemUpdateAmount","cartItemDelete"]))};Ne.render=He;var ze=Ne,Me={components:{CartItem:ze},computed:Object(i["a"])({},Object(u["c"])({cartProducts:"cartDetailProducts",totalPrice:"cartTotalPrice",cartCount:"cartCount",isCartLoading:"isCartLoading",isCartLoadFailed:"isCartLoading"})),methods:{makeOrder:function(){this.$router.push({name:"orderCreation"})}}};Me.render=Se;var Ke=Me,We={class:"content container"},Je={class:"content__top"},Qe={class:"breadcrumbs"},Xe={class:"breadcrumbs__item"},Ze=Object(a["g"])(" Каталог "),Ye={class:"breadcrumbs__item"},tr=Object(a["g"])(" Корзина "),er={class:"breadcrumbs__item"},rr=Object(a["g"])(" Оформление заказа "),ar=Object(a["h"])("h1",{class:"content__title"}," Корзина ",-1),cr=Object(a["h"])("span",{class:"content__info"}," 3 товара ",-1),or={class:"cart"},nr={class:"cart__field"},ir={class:"cart__data"},ur=Object(a["h"])("button",{class:"cart__button button button--primery",type:"submit"}," Оформить заказ ",-1),sr={key:0,class:"cart__error form__error-block"},lr=Object(a["h"])("h4",null,"Заявка не отправлена!",-1);function dr(t,e,r,c,o,n){var i=Object(a["w"])("RouterLink"),u=Object(a["w"])("BaseFormText"),s=Object(a["w"])("BaseFormTextarea"),l=Object(a["w"])("ProductSideList");return Object(a["q"])(),Object(a["d"])("main",We,[Object(a["h"])("div",Je,[Object(a["h"])("ul",Qe,[Object(a["h"])("li",Xe,[Object(a["h"])(i,{class:"breadcrumbs__link",to:{name:"main"}},{default:Object(a["G"])((function(){return[Ze]})),_:1})]),Object(a["h"])("li",Ye,[Object(a["h"])(i,{class:"breadcrumbs__link",to:{name:"cart"}},{default:Object(a["G"])((function(){return[tr]})),_:1})]),Object(a["h"])("li",er,[Object(a["h"])(i,{class:"breadcrumbs__link",to:{name:"orderCreation"}},{default:Object(a["G"])((function(){return[rr]})),_:1})])]),ar,cr]),Object(a["h"])("section",or,[Object(a["h"])("form",{class:"cart__form form",method:"POST",onSubmit:e[6]||(e[6]=Object(a["I"])((function(){return n.submitOrder&&n.submitOrder.apply(n,arguments)}),["prevent"]))},[Object(a["h"])("div",nr,[Object(a["h"])("div",ir,[Object(a["h"])(u,{name:"name",title:"ФИО",placeholder:"Введите ваше ФИО",error:o.formErrors.name,modelValue:o.formData.name,"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.formData.name=t})},null,8,["error","modelValue"]),Object(a["h"])(u,{name:"address",title:"Адрес доставки",placeholder:"Введите ваш адрес",error:o.formErrors.address,modelValue:o.formData.address,"onUpdate:modelValue":e[2]||(e[2]=function(t){return o.formData.address=t})},null,8,["error","modelValue"]),Object(a["h"])(u,{name:"phone",title:"Телефон",placeholder:"Введите ваш телефон",type:"tel",error:o.formErrors.phone,modelValue:o.formData.phone,"onUpdate:modelValue":e[3]||(e[3]=function(t){return o.formData.phone=t})},null,8,["error","modelValue"]),Object(a["h"])(u,{name:"email",title:"Email",placeholder:"Введите ваш Email",type:"email",error:o.formErrors.email,modelValue:o.formData.email,"onUpdate:modelValue":e[4]||(e[4]=function(t){return o.formData.email=t})},null,8,["error","modelValue"]),Object(a["h"])(s,{name:"comment",title:"Комментарии",placeholder:"Введите ваши пожелания",error:o.formErrors.comment,modelValue:o.formData.comment,"onUpdate:modelValue":e[5]||(e[5]=function(t){return o.formData.comment=t})},null,8,["error","modelValue"])])]),Object(a["h"])(l,{total:t.cartTotalPrice,count:t.cartCount,"products-data":t.cartDetailProducts},{default:Object(a["G"])((function(){return[ur]})),_:1},8,["total","count","products-data"]),o.formFatalError?(Object(a["q"])(),Object(a["d"])("div",sr,[lr,Object(a["h"])("p",null,Object(a["y"])(o.formFatalError),1)])):Object(a["e"])("",!0)],32)])])}function br(t,e,r,c,o,n){var i=Object(a["w"])("BaseFormField");return Object(a["q"])(),Object(a["d"])(i,{error:t.error,title:t.title},{default:Object(a["G"])((function(){return[Object(a["H"])(Object(a["h"])("input",{class:"form__input",type:r.type,placeholder:t.formattedPlaceholder,name:t.name,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.currentValue=e})},null,8,["type","placeholder","name"]),[[a["A"],t.currentValue]])]})),_:1},8,["error","title"])}var pr={class:"form__label"},mr={class:"form__value"},hr={key:0,class:"form__error"};function Or(t,e,r,c,o,n){return Object(a["q"])(),Object(a["d"])("label",pr,[Object(a["v"])(t.$slots,"default"),Object(a["h"])("span",mr,Object(a["y"])(r.title),1),r.error?(Object(a["q"])(),Object(a["d"])("span",hr,Object(a["y"])(r.error),1)):Object(a["e"])("",!0)])}var jr={props:["title","error"]};jr.render=Or;var fr=jr,_r={components:{BaseFormField:fr},props:["modelValue","name","error","title","placeholder"],emits:["update:modelValue"],computed:{currentValue:{get:function(){return this.modelValue},set:function(t){this.$emit("update:modelValue",t)}},formattedPlaceholder:function(){return this.placeholder||"Введите ".concat(this.title)}}},gr={mixins:[_r],props:{type:{default:"text"}}};gr.render=br;var vr=gr;function yr(t,e,r,c,o,n){var i=Object(a["w"])("BaseFormField");return Object(a["q"])(),Object(a["d"])(i,{error:t.error,title:t.title},{default:Object(a["G"])((function(){return[Object(a["H"])(Object(a["h"])("textarea",{class:"form__input form__input--area",name:t.name,placeholder:t.formattedPlaceholder,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.currentValue=e})},null,8,["name","placeholder"]),[[a["D"],t.currentValue]])]})),_:1},8,["error","title"])}var kr={mixins:[_r]};kr.render=yr;var Pr=kr,Cr={class:"cart__block"},wr={class:"cart__orders"},Lr={class:"cart__total"},Ir=Object(a["g"])("Итого: "),Dr=Object(a["g"])(" товара на сумму ");function Fr(t,e,r,c,o,n){return Object(a["q"])(),Object(a["d"])("div",Cr,[Object(a["h"])("ul",wr,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["u"])(r.productsData,(function(e){return Object(a["q"])(),Object(a["d"])("li",{class:"cart__order",key:e.product.id},[Object(a["h"])("h3",null,Object(a["y"])(e.product.title),1),Object(a["h"])("b",null,Object(a["y"])(t.numberFormat.price(e.amount*e.product.price))+" ₽",1),Object(a["h"])("span",null,"Артикул: "+Object(a["y"])(e.product.id),1)])})),128))]),Object(a["h"])("div",Lr,[Object(a["h"])("p",null,[Ir,Object(a["h"])("b",null,Object(a["y"])(r.count),1),Dr,Object(a["h"])("b",null,Object(a["y"])(t.numberFormat.price(r.total))+" ₽",1)])]),Object(a["v"])(t.$slots,"default")])}var xr={props:["total","count","productsData"]};xr.render=Fr;var Tr=xr,qr={components:{ProductSideList:Tr,BaseFormTextarea:Pr,BaseFormText:vr},data:function(){return{formData:{},formErrors:{},formFatalError:""}},computed:Object(i["a"])({},Object(u["c"])(["cartDetailProducts","cartCount","cartTotalPrice"])),methods:Object(i["a"])(Object(i["a"])({},Object(u["d"])(["pageLoadStart","pageLoadStop","pageLoadFailed","cartFlush","updateOrderInfo"])),{},{submitOrder:function(){var t=this;return Object(N["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.formErrors={},t.formFatalError="",t.pageLoadStart(),t.pageLoadFailed(!1),e.prev=4,e.next=7,M.a.post("".concat(K.API_URL,"/api/orders"),Object(i["a"])({},t.formData),{params:{userAccessKey:t.$store.state.auth.token}});case 7:r=e.sent,t.updateOrderInfo(r.data),t.cartFlush(),t.redirectToOrderViewPage(r.data.id),e.next=18;break;case 13:e.prev=13,e.t0=e["catch"](4),t.formErrors=e.t0.response.data.error.request||{},t.formFatalError=e.t0.response.data.error.message,t.pageLoadFailed(!0);case 18:return e.prev=18,t.pageLoadStop(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[4,13,18,21]])})))()},redirectToOrderViewPage:function(t){this.$router.push({name:"orderView",params:{id:t}})}})};qr.render=dr;var Vr=qr,Ar={key:0,class:"content container"},Sr={class:"content__top"},Rr={class:"breadcrumbs"},Ur={class:"breadcrumbs__item"},Er=Object(a["g"])(" Каталог "),Gr={class:"breadcrumbs__item"},Br=Object(a["g"])(" Корзина "),$r={class:"breadcrumbs__item"},Hr=Object(a["g"])(" Оформление заказа "),Nr={class:"content__title"},zr=Object(a["g"])(" Заказ "),Mr={class:"cart"},Kr={class:"cart__form form",action:"#",method:"POST"},Wr={class:"cart__field"},Jr=Object(a["h"])("p",{class:"cart__message"}," Благодарим за выбор нашего магазина. На Вашу почту придет письмо с деталями заказа. Наши менеджеры свяжутся с Вами в течение часа для уточнения деталей доставки. ",-1),Qr={class:"dictionary"},Xr={class:"dictionary__item"},Zr=Object(a["h"])("span",{class:"dictionary__key"}," Получатель ",-1),Yr={class:"dictionary__value"},ta={class:"dictionary__item"},ea=Object(a["h"])("span",{class:"dictionary__key"}," Адрес доставки ",-1),ra={class:"dictionary__value"},aa={class:"dictionary__item"},ca=Object(a["h"])("span",{class:"dictionary__key"}," Телефон ",-1),oa={class:"dictionary__value"},na={class:"dictionary__item"},ia=Object(a["h"])("span",{class:"dictionary__key"}," Email ",-1),ua={class:"dictionary__value"},sa=Object(a["h"])("li",{class:"dictionary__item"},[Object(a["h"])("span",{class:"dictionary__key"}," Способ оплаты "),Object(a["h"])("span",{class:"dictionary__value"}," картой при получении ")],-1),la={key:1,class:"content container"},da={key:2,class:"content container"};function ba(t,e,r,c,o,n){var i=Object(a["w"])("RouterLink"),u=Object(a["w"])("ProductSideList");return n.orderData?(Object(a["q"])(),Object(a["d"])("main",Ar,[Object(a["h"])("div",Sr,[Object(a["h"])("ul",Rr,[Object(a["h"])("li",Ur,[Object(a["h"])(i,{class:"breadcrumbs__link",to:{name:"main"}},{default:Object(a["G"])((function(){return[Er]})),_:1})]),Object(a["h"])("li",Gr,[Object(a["h"])(i,{class:"breadcrumbs__link",to:{name:"cart"}},{default:Object(a["G"])((function(){return[Br]})),_:1})]),Object(a["h"])("li",$r,[Object(a["h"])(i,{class:"breadcrumbs__link",to:{name:"orderCreation"}},{default:Object(a["G"])((function(){return[Hr]})),_:1})])]),Object(a["h"])("h1",Nr,[zr,Object(a["h"])("span",null,"№ "+Object(a["y"])(n.orderId),1)])]),Object(a["h"])("section",Mr,[Object(a["h"])("form",Kr,[Object(a["h"])("div",Wr,[Jr,Object(a["h"])("ul",Qr,[Object(a["h"])("li",Xr,[Zr,Object(a["h"])("span",Yr,Object(a["y"])(n.orderData.name),1)]),Object(a["h"])("li",ta,[ea,Object(a["h"])("span",ra,Object(a["y"])(n.orderData.address),1)]),Object(a["h"])("li",aa,[ca,Object(a["h"])("span",oa,Object(a["y"])(n.orderData.phone),1)]),Object(a["h"])("li",na,[ia,Object(a["h"])("span",ua,Object(a["y"])(n.orderData.email),1)]),sa])]),Object(a["h"])(u,{total:n.orderData.totalPrice,count:+n.orderData.basket.items.length,"products-data":n.productsSide},null,8,["total","count","products-data"])])])])):o.orderLoading?(Object(a["q"])(),Object(a["d"])("main",la," Идёт загрузка данных заказа "+Object(a["y"])(n.orderId)+"... ",1)):o.orderLoadingFailed?(Object(a["q"])(),Object(a["d"])("main",da," Ошибка загрузки данных заказа "+Object(a["y"])(n.orderId)+"! ",1)):Object(a["e"])("",!0)}var pa={components:{ProductSideList:Tr},data:function(){return{orderLoading:!1,orderLoadingFailed:!1}},computed:{orderId:function(){return+this.$route.params.id},orderData:function(){return this.$store.state.orderInfo},productsSide:function(){return!this.orderData.basket||this.orderData.basket.items.length<1?[]:this.orderData.basket.items.map((function(t){var e=t;return e.amount=e.quantity,delete e.quantity,e}))}},watch:{orderId:{handler:function(){this.loadOrderInfoIfNeeded()},immediate:!0}},methods:Object(i["a"])(Object(i["a"])({},Object(u["b"])(["loadOrderInfo"])),{},{loadOrderInfoIfNeeded:function(){var t=this;this.orderData&&this.orderData.id===this.orderId||(this.orderLoading=!0,this.orderLoadingFailed=!1,this.loadOrderInfo(this.orderId).catch((function(){t.orderLoadingFailed=!0})).then((function(){t.orderLoading=!1})))}})};pa.render=ba;var ma=pa,ha=[{name:"main",component:Rt,path:"/"},{name:"product",component:Oe,path:"/products/:id"},{name:"cart",component:Ke,path:"/cart"},{name:"orderCreation",component:Vr,path:"/order"},{name:"orderView",component:ma,path:"/order/:id"},{name:"notFound",component:Gt,path:"/:catchAll(.*)"}],Oa=Object(V["b"])(),ja=Object(V["a"])({history:Oa,routes:ha}),fa=ja,_a=(r("4de4"),r("7db0"),r("13d5"),Object(u["a"])({state:{pageLoading:!1,pageLoadFailed:!1,cartLoading:!1,cartLoadFailed:!1,auth:{token:null},cart:{productsData:null,products:[]},orderInfo:null},mutations:{updateOrderInfo:function(t,e){t.orderInfo=e},pageLoadStart:function(t){t.pageLoading=!0},pageLoadStop:function(t){t.pageLoading=!1},pageLoadFailed:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.pageLoadFailed=e},cartFlush:function(t){t.cart.productsData=null,t.cart.products=[]},cartLoadStart:function(t){t.cartLoading=!0},cartLoadStop:function(t){t.cartLoading=!1},cartLoadFailed:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.cartLoadFailed=e},updateAuthToken:function(t,e){t.auth.token=e},updateCartProducts:function(t,e){t.cart.productsData=e},adaptCartProducts:function(t,e){t.cart.products=e.map((function(t){return{productId:t.product.id,amount:t.quantity,product:t.product}}))},cartItemUpdateAmount:function(t,e){var r=e.productId,a=e.amount,c=t.cart.products.find((function(t){return t.productId===r}));c&&(c.amount=a)},cartItemDelete:function(t,e){t.cart.products=t.cart.products.filter((function(t){return t.productId!==e}))}},getters:{isPageLoading:function(t){return t.pageLoading},isPageLoadFailed:function(t){return t.pageLoadFailed},cartDetailProducts:function(t){return t.cart.products},cartTotalPrice:function(t,e){return e.cartDetailProducts.reduce((function(t,e){return e.product.price*(+e.amount||0)+t}),0)},cartCount:function(t){return t.cart.products.length},isCartLoading:function(t){return t.cartLoading},isCartLoadFailed:function(t){return t.cartLoadFailed}},actions:{loadCart:function(t){return Object(N["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit("cartLoadStart"),t.commit("cartLoadFailed",!1),e.prev=2,e.next=5,M.a.get("".concat(K.API_URL,"/api/baskets"),{params:{userAccessKey:t.state.auth.token}});case 5:r=e.sent,a=r.data.user.accessKey,t.state.auth.token||(localStorage.setItem("authToken",a),t.commit("updateAuthToken",a)),t.dispatch("syncCartProducts",r.data.items),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),t.commit("cartLoadFailed",!0);case 14:return e.prev=14,t.commit("cartLoadStop"),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})))()},syncCartProducts:function(t,e){t.commit("updateCartProducts",e),t.commit("adaptCartProducts",e)},addProductToCart:function(t,e){return Object(N["a"])(regeneratorRuntime.mark((function r(){var a,c,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.productId,c=e.amount,r.next=3,M.a.post("".concat(K.API_URL,"/api/baskets/products"),{productId:a,quantity:c},{params:{userAccessKey:t.state.auth.token}});case 3:return o=r.sent,t.dispatch("syncCartProducts",o.data.items),r.abrupt("return",o);case 6:case"end":return r.stop()}}),r)})))()},cartItemUpdateAmount:function(t,e){return Object(N["a"])(regeneratorRuntime.mark((function r(){var a,c,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.productId,c=e.amount,t.commit("cartItemUpdateAmount",{productId:a,amount:c}),!(c<1)){r.next=4;break}return r.abrupt("return");case 4:return r.prev=4,r.next=7,M.a.put("".concat(K.API_URL,"/api/baskets/products"),{productId:a,quantity:c},{params:{userAccessKey:t.state.auth.token}});case 7:o=r.sent,t.commit("updateCartProducts",o.data.items),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](4),t.commit("adaptCartProducts",t.state.cart.productsData);case 14:case"end":return r.stop()}}),r,null,[[4,11]])})))()},cartItemDelete:function(t,e){return Object(N["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.commit("cartItemDelete",e),r.prev=1,r.next=4,M.a.delete("".concat(K.API_URL,"/api/baskets/products"),{data:{productId:e},params:{userAccessKey:t.state.auth.token}});case 4:a=r.sent,t.commit("updateCartProducts",a.data.items),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](1),t.commit("adaptCartProducts",t.state.cart.productsData);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()},loadOrderInfo:function(t,e){return Object(N["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,M.a.get("".concat(K.API_URL,"/api/orders/").concat(e),{params:{userAccessKey:t.state.auth.token}});case 2:return a=r.sent,t.commit("updateOrderInfo",a.data),r.abrupt("return",a);case 5:case"end":return r.stop()}}),r)})))()}}})),ga=_a,va=Object(c["a"])(),ya=Object(a["c"])(D);ya.use(fa),ya.use(ga),ya.config.globalProperties.emitter=va,ya.config.globalProperties.numberFormat=o,ya.mount("#app"),q(F),q(x)},a4f7:function(t,e,r){"use strict";r("be04")},be04:function(t,e,r){},e22c:function(t,e,r){"use strict";r("e633")},e633:function(t,e,r){}});
//# sourceMappingURL=app.311d8f3d.js.map